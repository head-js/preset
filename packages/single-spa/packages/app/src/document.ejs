<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
  <link rel="icon" type="image/png" href="<%= VUE_APP_CDN %>/img/favicon.png" />
  <title>@head/preset-single-spa</title>
  <% htmlWebpackPlugin.options.headScripts.forEach(function (script) { %>
    <%= script %>
  <% }); %>
  <link rel="stylesheet" href="/app/rsrc/dist/umi-{hash}.css" />
</head>

<body>
  <div class="App" data-pathname="/">
    <section class="el-container">
      <aside id="aside" class="el-aside"></aside>
      <section id="root" class="el-container is-vertical"></section>
    </section>
  </div>

  <script src="<%= VUE_APP_CDN %>/systemjs/6.15.1/system.js"></script>
  <script src="<%= VUE_APP_CDN %>/systemjs/6.15.1/extras/amd-esm.js"></script>

  <script>
    // app-*
    System.addImportMap({
      imports: {
        'react-app': 'http://127.0.0.1:8001/react-app/rsrc/dist/umi.js',
        'vue-app': 'http://127.0.0.1:8001/vue-app/rsrc/dist/umi.js',
      },
    });
    // entry
    System.import('/app/rsrc/dist/vendors-vue-{hash}.js');
    System.import('/app/rsrc/dist/umi-{hash}.js');
  </script>
</body>
</html>
